# Main.cpp This program was created for the operation of the MLX90640 IR Sensor. This program was edited specifically for the purpose intended by FLOM. The additions to the program take the data recorded by the sensor and determine if a Library study room is occupied or not. This data is then sent to the FLOM webserver to display the users rooms that are available. ## Algorithm BreakdownThe sensor returns a pixel array of temperatures. The data is computed to Temperature data that is very easy for users to read. In order to determine if the room is occupied or not an algorithm was used to compare reads from the sensor over time. This is done by keeping track of the temperature data while the room is empty. If this data changes by a value greater than 38, the program will show that the room is occupied. The value, 38, was chosen as the threshold because 38 pixels would only be five percent of the image captured by the sensor which emulates a person in a study room. After determining if the room is occupied or not, an http request is sent to the web server which will ultimately display the room's availability. ### Algorithm CodeWhat things you need to install the software and how to install them```    Get_Image_Median(1);       // collect an full image using the odd and even frames wait for both odd and even image    //printf("None chess P\n\r");#endif    //printf("something is getting printed");    (void) display_Ima();    pxover=0;    for (i=0; i<NROWS; i++) {        //pc.printf("D%2d:",i);        for (j=0; j<NCOLS; j++) {            //out+=IMA[i][j];            //ss <<"%5d;" << IMA[i][j];            if (IMA[i][j]>threshold){                pxover++;            }        }    }    printf("%3d\n\r",pxover);    if(pxover>38){        printf("********THIS ROOM IS OCCUPIED***********\n\n\r");        //Get request with room num, secret key, and 'enter'        system("python /home/pi/send.py enter");    }    else{        //get request with room num, secret key, and 'leave'        system("python /home/pi/send.py leave");    }    //printf("REady to start\n\r");//GET_A_KEY();    Reset_New_Data_In_Ram2();    while (1){#ifdef CHESS_PAT                Get_Image_Median_Chess(1);#else                Get_Image_Median(0);#endif               (void) display_Ima();                pxover=0;                for (i=0; i<NROWS; i++) {                    //pc.printf("D%2d:",i);                    for (j=0; j<NCOLS; j++) {                        //out+=IMA[i][j];                        //ss <<"%5d;" << IMA[i][j];                        if (IMA[i][j]>threshold){                            pxover++;                        }                    }                }                printf("%3d\n\r",pxover);                if(pxover>38){                    printf("********THIS ROOM IS OCCUPIED***********\n\n\r");                    system("python /home/pi/send.py enter");                }                else{                    //get request with room num, secret key, and 'leave'                    system("python /home/pi/send.py leave");                }```